<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>PVox Actions - PVox</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".\coal\catppuccin.css">
        <link rel="stylesheet" href=".\coal\catppuccin-admonish.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="foreword.html">Foreword</a></li><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Intro</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="using_pvox.html"><strong aria-hidden="true">1.1.</strong> Getting Dirty With PVox</a></li><li class="chapter-item expanded "><a href="shared_modules.html"><strong aria-hidden="true">1.2.</strong> The Shared Module System</a></li><li class="chapter-item expanded "><a href="naming_convention.html"><strong aria-hidden="true">1.3.</strong> PVox Naming Conventions</a></li></ol></li><li class="chapter-item expanded "><a href="inter.html"><strong aria-hidden="true">2.</strong> PVox Interface</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="generators.html"><strong aria-hidden="true">2.1.</strong> PVox Generator Functions</a></li><li class="chapter-item expanded "><a href="actions.html" class="active"><strong aria-hidden="true">2.2.</strong> PVox Actions</a></li><li class="chapter-item expanded "><a href="callouts.html"><strong aria-hidden="true">2.3.</strong> PVox Call-outs</a></li></ol></li><li class="chapter-item expanded "><a href="patches.html"><strong aria-hidden="true">3.</strong> PVox Server Patches</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="relchance.html"><strong aria-hidden="true">3.1.</strong> PVox's Reload Chance Patch</a></li><li class="chapter-item expanded "><a href="globalrng.html"><strong aria-hidden="true">3.2.</strong> PVox's Global RNG Patch</a></li><li class="chapter-item expanded "><a href="ea.html"><strong aria-hidden="true">3.3.</strong> PVox's EA Patch (Extended Actions)</a></li><li class="chapter-item expanded "><a href="footsteplib.html"><strong aria-hidden="true">3.4.</strong> PVox's Footsteps Patch</a></li></ol></li><li class="chapter-item expanded "><a href="footsteplib.html"><strong aria-hidden="true">4.</strong> PVox's Footstep API</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frapp√©</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">PVox</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="pvox-actions"><a class="header" href="#pvox-actions">PVox Actions</a></h1>
<p>Actions are PVox's way of managing sound tables. PVox uses a simple global table in order to manage separate player's modules, and other forms of player sounds.</p>
<p>Globally, the PVox module table looks something like this.</p>
<pre><code class="language-lua no_run">
['My Cool Module 1'] = {
    ['actions'] = {...},
    ['callouts'] = {...},
    ['footsteps'] = { [ 'default' ] = { ... } }
},

['My Cool Module 2'] = {
    ['actions'] = {...},
    ['callouts'] = {...},
    ['footsteps'] = { [ 'default' ] = { ... } }
},

</code></pre>
<p>The only required field for modules is the <code>actions</code> table. This contains the key value pairs of tables in which sounds can be ran from. Actions are usually string values with no spaces, in all lowercase (with underscores, therefore snake case), and they simply define all of the possible sound files associated with that specific action.</p>
<p>For example, the action <code>pickup_weapon</code> is called whenever a player picks up a weapon. This means that to add sounds that can be used with this, you'd put them in a table.</p>
<pre><code class="language-lua no_run">function pvox_setup_actions()
    return {
        ['actions'] = {
            ['pickup_weapon'] = {
                'my_sound_dir/pickup1_cool.wav',
                'my_sound_dir/pickup2_cool.wav',
                'my_sound_dir/pickup3_cool.wav',
                'my_sound_dir/pickup4_cool.wav',
            }
        }
    }
end
</code></pre>
<h2 id="types"><a class="header" href="#types">Types</a></h2>
<p>In PVox implementations, there has always been a consistent standard, linking.</p>
<p>When creating an implementation, instead of linking an action <code>string</code> key to a <code>table</code> value, you can link it to another <code>string</code> to instead use <em>THAT</em> action.</p>
<pre><code class="language-lua no_run">['actions'] = {
    ['pickup_weapon'] = "on_ready",
    ['on_ready'] = {
        'a.wav',
        'b.wav',
        'c.wav',
    }
}
</code></pre>
<p>And once run in PVox, those sound files will be called whenever a weapon is picked up, OR whenever <code>on_ready</code> is called.</p>
<div class="warning">
As of 9/2/2024, the pickup_weapon action may not be working as expected with the (VManip) Manual Pickup addon installed. See <a href=https://github.com/kdgonz7/ImmPVox/issues/16>PVox Weapon Pickup Sound Bug (Issue No. 16)</a> for more information.
</div>
<h2 id="available-actions"><a class="header" href="#available-actions">Available Actions</a></h2>
<p>While the actual defined amount of actions is unknown, as any action can be ran via <code>EmitAction</code>, and it is up to the defined action-table to create sounds for that string, there are some actions which are frequently emitted from the default PVox codebase.</p>
<p>Those include:</p>
<ul>
<li><code>"death"</code> - called whenever a player dies.</li>
<li><code>"take_damage_in_vehicle"</code> - called when a player takes damage in a vehicle.</li>
<li><code>"take_damage"</code> - called when a player takes general damage</li>
<li><code>"damage_" + npc_class</code> - called when a player takes damage from <code>npc_class</code>. See <a href="./local.html">Localized Information</a> for more info.</li>
<li><code>npc_class + "_killed"</code> - called when an NPC of <code>npc_class</code> is killed. See <a href="./local.html">Localized Information</a> for more info.</li>
<li><code>"nice_shot"</code> - <strong>(New in V9)</strong> called when a friendly NPC gets a kill, and the player sees it.
<ul>
<li>(may require the <strong>EA</strong> patch to be enabled. See <a href="./ea.html">Extended Actions</a> for more information.)</li>
</ul>
</li>
<li><code>"enemy_killed"</code> - when a general enemy/thing is killed.</li>
<li><code>"enemy_spotted"</code> - called when an enemy is spotted, or has been tagged.
<ul>
<li>They are therefore known by the current player, and other players around them.</li>
</ul>
</li>
<li><code>"confirm_kill"</code> - when a kill is confirmed. These are separate voice lines and can be created via the <code>pvox_smart_confirm</code>.</li>
<li><code>"reload"</code> - when a player reloads their current weapon.</li>
<li><code>"no_ammo"</code> - called when a player tries to reload their current weapon, but they have no ammo.</li>
<li><code>"pickup_weapon"</code> - called when a player picks up a <strong>weapon</strong></li>
<li><code>"on_ready"</code> - called when a player spawns in. However, as of v9, <code>pickup_weapon</code> has precedence over this action.
<ul>
<li>Use <code>pickup_weapon</code> instead, or copy/link <code>pickup_weapon</code> here.</li>
</ul>
</li>
</ul>
<h3 id="eba-extension-based-actions"><a class="header" href="#eba-extension-based-actions">EBA (Extension-Based Actions)</a></h3>
<p>Here are some extension-based actions, or actions which are called from modules, and aren't officially called by PVox itself.</p>
<ul>
<li><code>inspect</code> - called when the inspect key is pressed. See [The Inspect Module] for more information.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="generators.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="callouts.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="generators.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="callouts.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>